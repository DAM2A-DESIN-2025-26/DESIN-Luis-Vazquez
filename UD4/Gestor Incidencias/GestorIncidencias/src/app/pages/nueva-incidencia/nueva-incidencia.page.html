<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>nueva-incidencia</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
 <form [formGroup]="form" (ngSubmit)="guardar()">
  <ion-item>
    <ion-label position="floating">Titulo</ion-label>
    <ion-input required formControlName="titulo" type="text"></ion-input>
    @if (form.get('titulo')?.hasError('required') && form.get('titulo')?.touched) {
      <ion-note color="danger" class="ion-padding-start">El título es obligatorio</ion-note>
    }
    @if (form.get('titulo')?.hasError('minlength') && form.get('titulo')?.touched) {
      <ion-note color="danger" class="ion-padding-start">Mínimo 10 caracteres</ion-note>
    }
  </ion-item>
   <ion-item>
    <ion-label position="floating">Descripcion</ion-label>
    <ion-input required formControlName="descripcion" type="text"></ion-input>
     @if (form.get('descripcion')?.hasError('required') && form.get('descripcion')?.touched) {
      <ion-note color="danger" class="ion-padding-start">La descripcion es obligatoria</ion-note>
    }
  </ion-item>
   <ion-item>
      <ion-select label="Prioridad" formControlName="prioridad">
        <ion-select-option value="alta">Alta</ion-select-option>
        <ion-select-option value="media">Media</ion-select-option>
        <ion-select-option value="baja">Baja</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-button expand="block" type="submit" [disabled]="form.invalid" class="ion-margin-top">
      Crear Incidencia
    </ion-button>
 </form>
</ion-content>
